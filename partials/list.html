<div class="container">

    <div class="section center row">
        <h2>Disponibili ora</h2>
        <legend></legend>
    </div>


    <div class="hide">
        <div>
            <p>currentDate = {{currentDate | date: 'EEEE - dd-MM-yyyy - HH:mm'}}</p>
            <p>queryDate = {{queryDate | date: 'EEEE - dd-MM-yyyy - HH:mm'}}</p>
            <p>loading = {{loading}}</p>
            <p>reverse = {{reverse}}</p>
            <p>this.order = {{ctrl.order}}</p>
            <p>this.reverse = {{ctrl.reverse}}</p>
        </div>
    </div>

    <p ng-show="loading">Loading...</p>

    <!-- Tabella -->
    <table ng-hide="loading" class="centered bordered">
        <thead>
            <tr>
                <th data-field="aula"><h4><a href="" ng-click="ctrl.setOrder('number')">AULA</a></h4> </th>
                <th data-field="edificio"><h4><a href="" ng-click="ctrl.setOrder('building')">EDIFICIO</a></h4></th>
                <th data-field="piano"><h4><a href="" ng-click="ctrl.setOrder('floor')">PIANO</a></h4></th>
                <th data-field="disponibilità"><h4><a href="" ng-click="ctrl.setOrder('availability')">DISPONIBILITÀ</a></h4></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="room in rooms | orderBy:ctrl.order:ctrl.reverse | filter: isFree">
                <td class="{{room.class}}"><h4><a href="#/details/{{room.number}}">{{room.number}}</a></h4></td>
                <td class="{{room.class}}"><h4>Povo {{room.building}}</h4></td>
                <td class="{{room.class}}"><h4>{{room.floor}}</h4></td>
                <td class="{{room.class}}"><h4>{{room.free ? 'all day' : (room.availability == 1 ?  "&lt; 1 ora" : room.availability + ' ore') }}</h4></td>
            </tr>
        </tbody>
    </table>

</div>
